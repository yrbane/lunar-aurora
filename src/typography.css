/**
 * ╔═══════════════════════════════════════════════════════════════════════════╗
 * ║                         LUNAR AURORA - TYPOGRAPHY                           ║
 * ║                                                                           ║
 * ║  Fluid typography, prose styles, and text utilities.                     ║
 * ╚═══════════════════════════════════════════════════════════════════════════╝
 */

/* ═══════════════════════════════════════════════════════════════════════════
   FONT IMPORTS
   ═══════════════════════════════════════════════════════════════════════════ */

@font-face {
    font-family: 'Material Symbols Outlined';
    font-style: normal;
    font-weight: 100 700;
    font-display: swap;
    src: url(https://fonts.gstatic.com/s/materialsymbolsoutlined/v237/kJEhBvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oFsI.woff2) format('woff2');
}

/* ═══════════════════════════════════════════════════════════════════════════
   ICON HELPER
   ═══════════════════════════════════════════════════════════════════════════ */

.la-icon {
    font-family: 'Material Symbols Outlined';
    font-weight: normal;
    font-style: normal;
    font-size: 1.5em;
    line-height: 1;
    letter-spacing: normal;
    text-transform: none;
    display: inline-block;
    white-space: nowrap;
    word-wrap: normal;
    direction: ltr;
    font-feature-settings: 'liga';
    -webkit-font-smoothing: antialiased;
    vertical-align: middle;

    /* Size variants using nesting */
    &.xs { font-size: 1rem; }
    &.sm { font-size: 1.25rem; }
    &.md { font-size: 1.5rem; }
    &.lg { font-size: 2rem; }
    &.xl { font-size: 2.5rem; }
    &.xxl { font-size: 3rem; }
}

/* ═══════════════════════════════════════════════════════════════════════════
   HEADINGS
   ═══════════════════════════════════════════════════════════════════════════ */

.la-h1, .la-h2, .la-h3, .la-h4, .la-h5, .la-h6 {
    font-family: var(--la-font-sans);
    font-weight: var(--la-weight-bold);
    color: var(--la-text);
    letter-spacing: var(--la-tracking-tight);
    line-height: var(--la-leading-tight);
    margin-block-end: var(--la-space-4);
}

.la-h1 {
    font-size: var(--la-text-5xl);
    font-weight: var(--la-weight-extrabold);
    letter-spacing: var(--la-tracking-tighter);
    line-height: var(--la-leading-none);
}

.la-h2 {
    font-size: var(--la-text-4xl);
    font-weight: var(--la-weight-bold);
}

.la-h3 {
    font-size: var(--la-text-3xl);
}

.la-h4 {
    font-size: var(--la-text-2xl);
    font-weight: var(--la-weight-semibold);
}

.la-h5 {
    font-size: var(--la-text-xl);
    font-weight: var(--la-weight-semibold);
}

.la-h6 {
    font-size: var(--la-text-lg);
    font-weight: var(--la-weight-medium);
}

/* Display headings - larger, bolder */
.la-display {
    font-family: var(--la-font-display);
    font-size: var(--la-text-6xl);
    font-weight: var(--la-weight-black);
    letter-spacing: var(--la-tracking-tighter);
    line-height: 1;

    &.sm { font-size: var(--la-text-5xl); }
    &.lg { font-size: clamp(4rem, 10vw, 8rem); }
    &.xl { font-size: clamp(5rem, 15vw, 12rem); }
}

/* Gradient text effect */
.la-gradient-text {
    background: var(--la-gradient-primary);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent;
}

/* ═══════════════════════════════════════════════════════════════════════════
   PROSE - Long-form content styling
   ═══════════════════════════════════════════════════════════════════════════ */

.la-prose {
    font-size: var(--la-text-md);
    line-height: var(--la-leading-prose);
    color: var(--la-text-secondary);
    max-width: var(--la-container-prose);

    /* Headings within prose */
    & h1, & h2, & h3, & h4, & h5, & h6 {
        color: var(--la-text);
        margin-block-start: var(--la-space-12);
        margin-block-end: var(--la-space-4);
        scroll-margin-top: var(--la-space-20);
    }

    & h1 {
        font-size: var(--la-text-4xl);
        margin-block-start: 0;
    }

    & h2 {
        font-size: var(--la-text-3xl);
        padding-block-end: var(--la-space-2);
        border-block-end: 2px solid var(--la-border-subtle);
    }

    & h3 {
        font-size: var(--la-text-2xl);
    }

    & h4 {
        font-size: var(--la-text-xl);
    }

    /* Paragraphs */
    & p {
        margin-block-end: var(--la-space-6);
    }

    /* First paragraph after heading - no margin */
    & h2 + p,
    & h3 + p,
    & h4 + p {
        margin-block-start: 0;
    }

    /* Links */
    & a {
        color: var(--la-primary);
        text-decoration: underline;
        text-decoration-thickness: 1px;
        text-underline-offset: 3px;
        transition:
            text-decoration-thickness var(--la-transition-fast),
            color var(--la-transition-fast);

        &:hover {
            text-decoration-thickness: 2px;
            color: var(--la-primary-dark);
        }
    }

    /* Strong */
    & strong {
        font-weight: var(--la-weight-semibold);
        color: var(--la-text);
    }

    /* Emphasis */
    & em {
        font-style: italic;
    }

    /* Lists */
    & ul, & ol {
        margin-block: var(--la-space-6);
        padding-inline-start: var(--la-space-6);
    }

    & ul {
        list-style-type: disc;
    }

    & ol {
        list-style-type: decimal;
    }

    & li {
        margin-block-end: var(--la-space-2);

        &::marker {
            color: var(--la-primary);
        }
    }

    & li > ul,
    & li > ol {
        margin-block: var(--la-space-2);
    }

    /* Blockquotes */
    & blockquote {
        margin-block: var(--la-space-8);
        padding: var(--la-space-5) var(--la-space-6);
        background: linear-gradient(
            135deg,
            oklch(from var(--la-primary) l c h / 5%) 0%,
            oklch(from var(--la-secondary) l c h / 5%) 100%
        );
        border-inline-start: 4px solid var(--la-primary);
        border-radius: 0 var(--la-radius-md) var(--la-radius-md) 0;
        font-style: italic;

        & p {
            margin-block-end: 0;
        }

        & cite {
            display: block;
            margin-block-start: var(--la-space-3);
            font-size: var(--la-text-sm);
            font-style: normal;
            color: var(--la-text-muted);

            &::before {
                content: '— ';
            }
        }
    }

    /* Inline code */
    & code:not(pre code) {
        font-family: var(--la-font-mono);
        font-size: 0.875em;
        padding: 0.2em 0.4em;
        background: var(--la-surface-2);
        color: var(--la-primary);
        border-radius: var(--la-radius-sm);
    }

    /* Code blocks */
    & pre {
        margin-block: var(--la-space-8);
        padding: var(--la-space-5) var(--la-space-4);
        background: var(--la-code-bg, oklch(15% 0.02 var(--la-hue-primary)));
        color: var(--la-code-text, oklch(85% 0.01 var(--la-hue-primary)));
        border-radius: var(--la-radius-md);
        overflow-x: auto;
        font-size: var(--la-text-sm);
        line-height: var(--la-leading-relaxed);

        & code {
            background: transparent;
            padding: 0;
            font-size: inherit;
            color: inherit;
        }
    }

    /* Horizontal rule */
    & hr {
        margin-block: var(--la-space-12);
        border-color: var(--la-border);
    }

    /* Images */
    & img {
        margin-block: var(--la-space-8);
        border-radius: var(--la-radius-md);
        box-shadow: var(--la-shadow-lg);
    }

    & figure {
        margin-block: var(--la-space-8);
    }

    & figcaption {
        margin-block-start: var(--la-space-3);
        font-size: var(--la-text-sm);
        color: var(--la-text-muted);
        text-align: center;
    }

    /* Tables */
    & table {
        width: 100%;
        margin-block: var(--la-space-8);
        font-size: var(--la-text-sm);
    }

    & th, & td {
        padding: var(--la-space-3) var(--la-space-4);
        border: 1px solid var(--la-border);
        text-align: start;
    }

    & th {
        background: var(--la-surface-2);
        font-weight: var(--la-weight-semibold);
        color: var(--la-text);
    }

    & tr:nth-child(even) td {
        background: var(--la-surface-1);
    }

    /* Size variants */
    &.sm {
        font-size: var(--la-text-sm);
    }

    &.lg {
        font-size: var(--la-text-lg);
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   TEXT UTILITIES
   ═══════════════════════════════════════════════════════════════════════════ */

/* Size utilities */
.la-text-xs { font-size: var(--la-text-xs); }
.la-text-sm { font-size: var(--la-text-sm); }
.la-text-base { font-size: var(--la-text-base); }
.la-text-md { font-size: var(--la-text-md); }
.la-text-lg { font-size: var(--la-text-lg); }
.la-text-xl { font-size: var(--la-text-xl); }
.la-text-2xl { font-size: var(--la-text-2xl); }
.la-text-3xl { font-size: var(--la-text-3xl); }
.la-text-4xl { font-size: var(--la-text-4xl); }
.la-text-5xl { font-size: var(--la-text-5xl); }
.la-text-6xl { font-size: var(--la-text-6xl); }

/* Weight utilities */
.la-font-thin { font-weight: var(--la-weight-thin); }
.la-font-light { font-weight: var(--la-weight-light); }
.la-font-normal { font-weight: var(--la-weight-normal); }
.la-font-medium { font-weight: var(--la-weight-medium); }
.la-font-semibold { font-weight: var(--la-weight-semibold); }
.la-font-bold { font-weight: var(--la-weight-bold); }
.la-font-extrabold { font-weight: var(--la-weight-extrabold); }
.la-font-black { font-weight: var(--la-weight-black); }

/* Font family */
.la-font-sans { font-family: var(--la-font-sans); }
.la-font-mono { font-family: var(--la-font-mono); }
.la-font-display { font-family: var(--la-font-display); }

/* Line height */
.la-leading-none { line-height: var(--la-leading-none); }
.la-leading-tight { line-height: var(--la-leading-tight); }
.la-leading-snug { line-height: var(--la-leading-snug); }
.la-leading-normal { line-height: var(--la-leading-normal); }
.la-leading-relaxed { line-height: var(--la-leading-relaxed); }
.la-leading-loose { line-height: var(--la-leading-loose); }

/* Letter spacing */
.la-tracking-tighter { letter-spacing: var(--la-tracking-tighter); }
.la-tracking-tight { letter-spacing: var(--la-tracking-tight); }
.la-tracking-normal { letter-spacing: var(--la-tracking-normal); }
.la-tracking-wide { letter-spacing: var(--la-tracking-wide); }
.la-tracking-wider { letter-spacing: var(--la-tracking-wider); }
.la-tracking-widest { letter-spacing: var(--la-tracking-widest); }

/* Text alignment */
.la-text-left { text-align: start; }
.la-text-center { text-align: center; }
.la-text-right { text-align: end; }
.la-text-justify { text-align: justify; }

/* Text transform */
.la-uppercase { text-transform: uppercase; }
.la-lowercase { text-transform: lowercase; }
.la-capitalize { text-transform: capitalize; }
.la-normal-case { text-transform: none; }

/* Text decoration */
.la-underline { text-decoration: underline; }
.la-line-through { text-decoration: line-through; }
.la-no-underline { text-decoration: none; }

/* Text wrapping */
.la-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.la-line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.la-line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.la-line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.la-line-clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Text colors */
.la-text-primary { color: var(--la-primary); }
.la-text-secondary-color { color: var(--la-secondary); }
.la-text-accent { color: var(--la-accent); }
.la-text-success { color: var(--la-success); }
.la-text-warning { color: var(--la-warning); }
.la-text-error { color: var(--la-error); }
.la-text-muted { color: var(--la-text-muted); }
.la-text-inherit { color: inherit; }

/* Selection color */
.la-select-none { user-select: none; }
.la-select-text { user-select: text; }
.la-select-all { user-select: all; }
